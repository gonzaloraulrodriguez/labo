View(tabla_veredictos)
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := 70 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, 70)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
View(planilla_cazatalentos)
View(planilla_cazatalentos)
ids_juegan2  <- planilla_cazatalentos[ ids_juegan1 ][ aciertos1 > 37, id ]
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, 120)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
View(planilla_cazatalentos)
View(planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos1')
View(planilla_cazatalentos)
planilla_cazatalentos[id]
planilla_cazatalentos['id']
planilla_cazatalentos[0]
planilla_cazatalentos[1]
planilla_cazatalentos[1,2]
planilla_cazatalentos[1,1]
planilla_cazatalentos[1,1:50]
planilla_cazatalentos[1,(1:50)]
planilla_cazatalentos[2,(1:50)]
planilla_cazatalentos[2,;]
planilla_cazatalentos[2,4]
planilla_cazatalentos[1,4]
planilla_cazatalentos[0,4]
planilla_cazatalentos[0,1]
planilla_cazatalentos[1,1]
planilla_cazatalentos[1:50,1]
ids_juegan2 = planilla_cazatalentos[1:50,1]
View(ids_juegan2)
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := 70 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, 70)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = planilla_cazatalentos[1:50,1]
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, 120)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
ids_juegan2
ids_juegan2.toarray()
ids_juegan2.to_array()
ids_juegan2[id]
ids_juegan2['id']
ids_juegan2['id']
ids_juegan2["id"]
aux = planilla_cazatalentos[1:50,1]
for(i in aux)
{
ids_juegan2 = append(ids_juegan2, i)
}
View(ids_juegan2)
ids_juegan2 = planilla_cazatalentos[1:50,1]
View(planilla_cazatalentos)
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]
ids_juegan2 = c(planilla_cazatalentos[1:50,1])
View(ids_juegan2)
ids_juegan2[c("id")]
ids_juegan2 = planilla_cazatalentos[1:50,1][c("id")]
ids_juegan2[c("id")]
prueba = planilla_cazatalentos[1:50,1]
ids_juegan2 = prueba[c("id")]
prueba
prueba[c("id")]
planilla_cazatalentos[1:50,1]
planilla_cazatalentos[1:50,1,c("id")]
planilla_cazatalentos[1:50,1][c("id")]
planilla_cazatalentos[1:50,1]
planilla_cazatalentos[1:50,1](c('id'))
e =planilla_cazatalentos[1:50,1]
e[id]
e["id"]
e[c("id")]
e[c("id"),]
e[,c("id")]
type(4)
planilla_cazatalentos[1:50,1]
planilla_cazatalentos[1:50,1][1]
planilla_cazatalentos[1:50,1][,]
test = planilla_cazatalentos[1:50,1][,]
test = planilla_cazatalentos[1:50,1][c("id")]
test = planilla_cazatalentos[1:50,1][1]
View(test)
test = value(planilla_cazatalentos[1:50,1][1])
planilla_cazatalentos[1:50,1][1] +1
planilla_cazatalentos[1:50,1][1,1] +1
prueba = planilla_cazatalentos[1:50,1].as.array()
prueba = as.array(planilla_cazatalentos[1:50,1])
prueba = as.matrix(planilla_cazatalentos[1:50,1])
View(prueba)
as.matrix(planilla_cazatalentos[1:50,1])[,1]
prueba = as.matrix(planilla_cazatalentos[1:50,1])[,1]
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := 70 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, 70)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
#A la mitad mejor la hago tirar 70 tiros cada uno
#La mediana siempre parte a un conjunto en dos partes de igual cantidad
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:50,1])[,1]
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, 120)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
View(planilla_cazatalentos)
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := 40 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, 40)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
#A la mitad mejor la hago tirar 70 tiros cada uno
#La mediana siempre parte a un conjunto en dos partes de igual cantidad
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:60,1])[,1]
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, 120)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
View(planilla_cazatalentos)
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
tiradas_1 = 40
planilla_cazatalentos[ ids_juegan1,  tiros1 := tiradas_1 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, tiradas_1)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
#A la mitad mejor la hago tirar 70 tiros cada uno
#La mediana siempre parte a un conjunto en dos partes de igual cantidad
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:60,1])[,1]
planilla_cazatalentos[ ids_juegan2,  tiros2 := 120 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, 120)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
View(planilla_cazatalentos)
60*0,6
60*0.6
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
tiradas_1 = 40
planilla_cazatalentos[ ids_juegan1,  tiros1 := tiradas_1 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, tiradas_1)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:60,1])[,1]
tiradas_2 = 40
planilla_cazatalentos[ ids_juegan2,  tiros2 := tiradas_2 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, tiradas_2)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
#Ronda 3 -------------------------------------------------------
setorder(planilla_cazatalentos,-'aciertos2')
ids_juegan3 = as.matrix(planilla_cazatalentos[1:36,1])[,1]
tiradas_3 = 40
planilla_cazatalentos[ ids_juegan3,  tiros3 := tiradas_3 ]  #registro en la planilla que tiran 70 tiros
resultado3  <- gimnasio_tirar( ids_juegan3, tiradas_3)
planilla_cazatalentos[ ids_juegan3,  aciertos3 := resultado3 ]  #registro en la planilla
#Epilogo
#El cazatalentos toma una decision, elige al que mas aciertos tuvo en la ronda2
View(planilla_cazatalentos)
source('C:/Users/Gonzalo/Desktop/MMD/8- Mineria Aplicada a Finanzas/Git Clone/labo/src/CazaTalentos/intento_C_15K.r', echo=TRUE)
View(tabla_veredictos)
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100   70  tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
tiradas_1 = 40
planilla_cazatalentos[ ids_juegan1,  tiros1 := tiradas_1 ]  #registro en la planilla que tiran 70 tiros
resultado1  <- gimnasio_tirar( ids_juegan1, tiradas_1)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
View(planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:60,1])[,1]
tiradas_2 = 40
planilla_cazatalentos[ ids_juegan2,  tiros2 := tiradas_2 ]  #registro en la planilla que tiran 70 tiros
resultado2  <- gimnasio_tirar( ids_juegan2, tiradas_2)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
View(planilla_cazatalentos)
source('C:/Users/Gonzalo/Desktop/MMD/8- Mineria Aplicada a Finanzas/Git Clone/labo/src/CazaTalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/MMD/8- Mineria Aplicada a Finanzas/Git Clone/labo/src/CazaTalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/MMD/8- Mineria Aplicada a Finanzas/Git Clone/labo/src/CazaTalentos/intento_C_15K.r', echo=TRUE)
sample( c( (501:599 ) / 1000 , 0.7 ) )
c( (501:599 ) / 1000 , 0.7 )
#Intento de Solucion del desafio  15k
#que NO logra solucionarlo, una que falta una idea fundamental, una chispa, un Momento Eureka
#pero crea estructura sobre la cual trabajar
#limpio la memoria
rm( list=ls() )
gc()
library(openxlsx)
require("data.table")
library(tidyverse)
library(datos)
ftirar  <- function( prob, qty )
{
return(  sum( runif(qty) < prob ) )
}
#variables globales que usan las funciones gimnasio_xxxx
GLOBAL_jugadores  <- c()
GLOBAL_tiros_total  <- 0
#Crea el juego
#a cada jugador se le pone un numero de 1 a 100 en la espalda
#debajo de ese numero esta el indice_de_enceste  que NO puede ser visto por el cazatalentos
gimnasio_init  <- function()
{
GLOBAL_jugadores  <<-  c( (501:599 ) / 1000 , 0.7 )
GLOBAL_tiros_total  <<- 0
}
#se le pasa un vector con los IDs de los jugadores y la cantidad de tiros a realizar
#devuelve en un vector cuantos aciertos tuvo cada jugador
gimnasio_tirar  <- function(  pids,  pcantidad )
{
GLOBAL_tiros_total  <<-  GLOBAL_tiros_total + length( pids )*pcantidad
res  <- mapply(  ftirar, GLOBAL_jugadores[pids], pcantidad )
return( res )
}
#El cazatalentos decide a que jugador llevarse
#devuelve la cantidad de tiros libres y si le acerto al verdadero_mejor o no
gimnasio_veredicto  <- function( pid )
{
return( list("tiros_total"= GLOBAL_tiros_total,
"acierto"=     as.integer( GLOBAL_jugadores[pid]==0.7) ))
}
#------------------------------------------------------------------------------
#Estrategia
#En la primer ronda se hace tirar 90 tiros libres a cada uno de los 100 jugadores ( se gastan 9000 tiros )
#Se eligen a la mejor mitad  ( se descarta a la peor mitad )
#En la segunda ronda, a la mejor mitad de la anterior ronda se los hace tirar 400 tiros a cada uno
#Se elige el mejor jugador de la segunda ronda
set.seed(236087)
#inicializo el juego
gimnasio_init()
#Esta el la planilla del cazatalentos
planilla_cazatalentos  <- data.table( "id" = 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores es decir 1:100  90 tiros libres cada uno
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
t = c()
mala_suerte = 0
#tiros_prueba = 50 #Inicialmente en 90
for(i in 1:10000)
{
if( i %% 1000 == 0 )  cat( i, " ")
for (tiros_prueba in c(10,20,30,40,50,60,70,80,90,100,110,120,130,140,150))
{
t[1] = str_c('Prueba ',as.character(tiros_prueba))
t[2] = str_c('Aciertos ',as.character(tiros_prueba))
planilla_cazatalentos[ ids_juegan1,  t[1] := tiros_prueba ]  #registro en la planilla que tiran 90 tiros
#Hago que tiren
resultado1  <- gimnasio_tirar( ids_juegan1, tiros_prueba)
planilla_cazatalentos[ ids_juegan1,  t[2] := resultado1 ]  #registro en la planilla
############# IMPORTANTE
#setorder(planilla_cazatalentos,-'actual')
#pos = 1:100
#planilla_cazatalentos[ ids_juegan1,  posicion := pos ]
#posicion = planilla_cazatalentos[id==100,posicion]
#planilla_best[tirada==i, t[3] := posicion]
##############
cat(tiros_prueba,i,resultado1,'\n', file ='descon.txt',append = TRUE)
}
}
GLOBAL_jugadores
gimnasio_init  <- function()
{
GLOBAL_jugadores  <<-  sample(c( (501:599 ) / 1000 , 0.7 ))
GLOBAL_tiros_total  <<- 0
}
set.seed(236087)
gimnasio_init()
GLOBAL_jugadores
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
Estrategia_C  <- function(tiradas_1)
{
#Estrategia
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
pasan_a_2 = 45
tiradas_2 = 75
pasan_a_3 = 19
tiradas_3 = 74
pasan_a_4 = 10
tiradas_4 = 240
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores tiradas_1
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := tiradas_1 ]  #registro en la planilla que tiran tiradas_1 tiros
resultado1  = gimnasio_tirar( ids_juegan1, tiradas_1)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:pasan_a_2,1])[,1]
setkey(planilla_cazatalentos,'id')
planilla_cazatalentos[ ids_juegan2,  tiros2 := tiradas_2 ]  #registro en la planilla que tiran tiradas_2 tiros
resultado2  = gimnasio_tirar( ids_juegan2, tiradas_2)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total1 := aciertos1+aciertos2]
#Ronda 3 -------------------------------------------------------
planilla_cazatalentos = na.omit (planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos_total1')
ids_juegan3 = as.matrix(planilla_cazatalentos[1:pasan_a_3,1])[,1]
planilla_cazatalentos[ id %in% ids_juegan3,  tiros3 := tiradas_3 ]  #registro en la planilla que tiran tiradas_3 tiros
resultado3  = gimnasio_tirar( ids_juegan3, tiradas_3)
planilla_cazatalentos[ id %in% ids_juegan3,  aciertos3 := resultado3 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total2 := aciertos1+aciertos2+aciertos3]
#Ronda 4 -------------------------------------------------------
planilla_cazatalentos = na.omit (planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos_total2')
ids_juegan4 = as.matrix(planilla_cazatalentos[1:pasan_a_4,1])[,1]
planilla_cazatalentos[ id %in% ids_juegan4,  tiros4 := tiradas_4 ]  #registro en la planilla que tiran tiradas_4 tiros
resultado4  = gimnasio_tirar( ids_juegan4, tiradas_4)
planilla_cazatalentos[ id %in% ids_juegan4,  aciertos4 := resultado4 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total := aciertos1+aciertos2+aciertos3+aciertos4]
#Epilogo
#El cazatalentos toma una decision, elige al que mas aciertos tuvo considerando las 4 rondas.
pos_mejor =  planilla_cazatalentos[ , which.max(aciertos_total) ]
id_mejor  =  planilla_cazatalentos[ pos_mejor, id ]
#Termino el juego
veredicto  = gimnasio_veredicto( id_mejor )
return( veredicto )
}
tiradas_1 = 78
veredicto  <- Estrategia_C(tiradas_1)
View(veredicto)
tabla_veredictos  <- rbind( tabla_veredictos, veredicto )
tiros_total  <-  tabla_veredictos[  , max( tiros_total) ]
tasa_eleccion_correcta  <-  tabla_veredictos[  , mean( acierto) ]
tiros_total
tasa_eleccion_correcta
Estrategia_C  <- function(tiradas_1,pasan_a_2,tiradas_2,pasan_a_3,tiradas_3,pasan_a_4,tiradas_4)
{
#Estrategia
gimnasio_init()
#Esta el la planilla del cazatalentos
#el id es el numero que tiene en la espalda cada jugador
planilla_cazatalentos  <- data.table( "id"= 1:100 )
#Ronda 1  ------------------------------------------------------
#tiran los 100 jugadores tiradas_1
ids_juegan1  <- 1:100   #los jugadores que participan en la ronda,
planilla_cazatalentos[ ids_juegan1,  tiros1 := tiradas_1 ]  #registro en la planilla que tiran tiradas_1 tiros
resultado1  = gimnasio_tirar( ids_juegan1, tiradas_1)
planilla_cazatalentos[ ids_juegan1,  aciertos1 := resultado1 ]  #registro en la planilla
#Ronda 2 -------------------------------------------------------
setorder(planilla_cazatalentos,-'aciertos1')
ids_juegan2 = as.matrix(planilla_cazatalentos[1:pasan_a_2,1])[,1]
setkey(planilla_cazatalentos,'id')
planilla_cazatalentos[ ids_juegan2,  tiros2 := tiradas_2 ]  #registro en la planilla que tiran tiradas_2 tiros
resultado2  = gimnasio_tirar( ids_juegan2, tiradas_2)
planilla_cazatalentos[ ids_juegan2,  aciertos2 := resultado2 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total1 := aciertos1+aciertos2]
#Ronda 3 -------------------------------------------------------
planilla_cazatalentos = na.omit (planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos_total1')
ids_juegan3 = as.matrix(planilla_cazatalentos[1:pasan_a_3,1])[,1]
planilla_cazatalentos[ id %in% ids_juegan3,  tiros3 := tiradas_3 ]  #registro en la planilla que tiran tiradas_3 tiros
resultado3  = gimnasio_tirar( ids_juegan3, tiradas_3)
planilla_cazatalentos[ id %in% ids_juegan3,  aciertos3 := resultado3 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total2 := aciertos1+aciertos2+aciertos3]
#Ronda 4 -------------------------------------------------------
planilla_cazatalentos = na.omit (planilla_cazatalentos)
setorder(planilla_cazatalentos,-'aciertos_total2')
ids_juegan4 = as.matrix(planilla_cazatalentos[1:pasan_a_4,1])[,1]
planilla_cazatalentos[ id %in% ids_juegan4,  tiros4 := tiradas_4 ]  #registro en la planilla que tiran tiradas_4 tiros
resultado4  = gimnasio_tirar( ids_juegan4, tiradas_4)
planilla_cazatalentos[ id %in% ids_juegan4,  aciertos4 := resultado4 ]  #registro en la planilla
planilla_cazatalentos[,aciertos_total := aciertos1+aciertos2+aciertos3+aciertos4]
#Epilogo
#El cazatalentos toma una decision, elige al que mas aciertos tuvo considerando las 4 rondas.
pos_mejor =  planilla_cazatalentos[ , which.max(aciertos_total) ]
id_mejor  =  planilla_cazatalentos[ pos_mejor, id ]
#Termino el juego
veredicto  = gimnasio_veredicto( id_mejor )
return( veredicto )
}
tiradas_1 = 78
pasan_a_2 = 45
tiradas_2 = 75
pasan_a_3 = 19
tiradas_3 = 74
pasan_a_4 = 10
tiradas_4 = 240
veredicto  <- Estrategia_C(tiradas_1,pasan_a_2,tiradas_2,pasan_a_3,tiradas_3,pasan_a_4,tiradas_4)
tabla_veredictos  <- rbind( tabla_veredictos, veredicto )
tiros_total  <-  tabla_veredictos[  , max( tiros_total) ]
tasa_eleccion_correcta  <-  tabla_veredictos[  , mean( acierto) ]
tiros_total  <-  tabla_veredictos[  , max( tiros_total) ]
tasa_eleccion_correcta  <-  tabla_veredictos[  , mean( acierto) ]
tiros_total
tasa_eleccion_correcta
tiros_del_experimento = 100*tiradas_1 + pasan_a_2*tiradas_2 + pasan_a_3*tiradas_3 + pasan_a_4*tiradas_4
vect_tiradas_1 = c(78)
vect_pasan_a_2 = c(45)
vect_tiradas_2 = c(75)
vect_pasan_a_3 = c(19)
vect_tiradas_3 = c(74)
vect_pasan_a_4 = c(10)
vect_tiradas_4 = c(240)
tiros_del_experimento = 100*tiradas_1 + pasan_a_2*tiradas_2 + pasan_a_3*tiradas_3 + pasan_a_4*tiradas_4
for (tiradas_1 in vect_tiradas_1)
{
for (pasan_a_2 in vect_pasan_a_2)
{
for (tiradas_2 in vect_tiradas_2)
{
for (pasan_a_3 in vect_pasan_a_3)
{
for (pasan_a_4 in vect_pasan_a_4)
{
for (tiradas_4 in tiradas_4)
{
############# INTERIOR DEL GRIDSEARCH
for( experimento  in  1:10000 )
{
if( experimento %% 1000 == 0 )  cat( experimento, " ")  #desprolijo, pero es para saber por donde voy
veredicto  <- Estrategia_C(tiradas_1,pasan_a_2,tiradas_2,pasan_a_3,tiradas_3,pasan_a_4,tiradas_4)
tabla_veredictos  <- rbind( tabla_veredictos, veredicto )
}
cat("\n")
tiros_total  <-  tabla_veredictos[  , max( tiros_total) ]
tasa_eleccion_correcta  <-  tabla_veredictos[  , mean( acierto) ]
###############
}
}
}
}
}
}
tiros_total
vect_tiradas_1 = c(50,55,60,65,70,73,75,78,80)
vect_pasan_a_2 = c(40,45,50,55,60)
vect_tiradas_2 = c(50,55,60,65,70,73,75,78,80)
vect_pasan_a_3 = c(16,17,18,19,20,21,22,23)
vect_tiradas_3 = c(70,73,75,77,80)
vect_pasan_a_4 = c(5,6,7,8,9,10,11,12,13,14,15)
vect_tiradas_4 = c(200,205,210,215,220,225,230,235,240,245,250,255,260,265)
vect_tiradas_4 = c(100,150,200,205,210,215,220,225,230,235,240,245,250,255,260,265,300)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
source('C:/Users/Gonzalo/Desktop/Py/Cazatalentos/intento_C_15K.r', echo=TRUE)
